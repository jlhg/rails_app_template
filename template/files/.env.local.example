# Local Development Environment Variables
# Copy this file to .env for local development (without Docker)
#
# This file is for LOCAL development only (running rails server directly).
# For Docker deployment, use the .env.example in the root directory.
#
# DO NOT commit .env to git (already in .gitignore)

# ============================================================================
# Database Configuration (Local PostgreSQL)
# ============================================================================

DATABASE_HOST=localhost
DATABASE_PORT=5432
DATABASE_USER=postgres
DATABASE_PASSWORD=  # Your local PostgreSQL password
# DATABASE_NAME is auto-generated from project name (see config/database.yml)

# ============================================================================
# Redis Configuration (Local Redis)
# ============================================================================

# Single Redis for local development (or use multiple instances like Docker)
REDIS_CACHE_HOST=localhost
REDIS_CACHE_PORT=6379
# REDIS_CACHE_PASSWORD=  # Usually no password for local Redis

REDIS_CABLE_HOST=localhost
REDIS_CABLE_PORT=6379

REDIS_SESSION_HOST=localhost
REDIS_SESSION_PORT=6379

# ============================================================================
# Rails Configuration
# ============================================================================

# Rails environment
RAILS_ENV=development

# Rails threads (development: lower, production: higher)
RAILS_MAX_THREADS=5
RAILS_MIN_THREADS=5

# ============================================================================
# Puma Web Server
# ============================================================================

# Workers (development: 0 for faster reload)
WEB_CONCURRENCY=0

# Port
PORT=3000

# ============================================================================
# CORS Configuration
# ============================================================================

# Allow all origins in development
CORS_ORIGINS=*

# Production example (comma-separated):
# CORS_ORIGINS=https://app.example.com,https://admin.example.com

# ============================================================================
# Time Zone
# ============================================================================

TIME_ZONE=UTC
# Examples: UTC, Taipei, Tokyo, America/New_York, Europe/London

# ============================================================================
# ActionCable WebSocket
# ============================================================================

ACTION_CABLE_URL=ws://localhost:3000/cable
ACTION_CABLE_ALLOWED_ORIGINS=*
ACTION_CABLE_DISABLE_FORGERY_PROTECTION=true

# ============================================================================
# Action Mailer
# ============================================================================

# Default URL options
MAILER_SERVER_HOST=localhost
MAILER_SERVER_PORT=3000
MAILER_SERVER_PROTOCOL=http

# SMTP settings (use real SMTP server or mailtrap.io for testing)
MAILER_SMTP_ADDRESS=smtp.mailtrap.io
MAILER_SMTP_PORT=2525
MAILER_SMTP_DOMAIN=localhost
MAILER_SMTP_AUTHENTICATION=plain
MAILER_SMTP_ENABLE_STARTTLS_AUTO=true
MAILER_SMTP_USER_NAME=your_mailtrap_username
MAILER_SMTP_PASSWORD=your_mailtrap_password

# For production (Mailgun example):
# MAILER_SMTP_ADDRESS=smtp.mailgun.org
# MAILER_SMTP_PORT=587
# MAILER_SMTP_DOMAIN=mg.example.com
# MAILER_SMTP_USER_NAME=postmaster@mg.example.com
# MAILER_SMTP_PASSWORD_FILE=/run/secrets/mailer_smtp_password  # Use Docker Secrets

# ============================================================================
# Development Tools
# ============================================================================

# Ruby YJIT (optional, Ruby 3.3+)
# RUBY_YJIT_ENABLE=1

# Ruby options - enable frozen string literals for better performance
# RUBYOPT=--enable-frozen-string-literal

# ============================================================================
# Notes
# ============================================================================

# 1. Copy this file:
#    cp .env.local.example .env
#
# 2. Update values for your local environment
#
# 3. Never commit .env to git
#
# 4. For Docker deployment, use the .env.example in root directory
